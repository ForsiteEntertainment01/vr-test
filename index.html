<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Stereoscopic 360Â° VR Viewer</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <script src="https://aframe.io/releases/1.4.2/aframe.min.js"></script>
  </head>
  <body>
    <a-scene>
      <a-assets>
        <video
          id="vrVideo"
          crossorigin="anonymous"
          playsinline
          webkit-playsinline
          muted
          loop
        >
          <source
            src="https://dl.dropboxusercontent.com/scl/fi/7s6m3h8xrzv2fbgzyhtks/360-bunny-test.mp4?rlkey=apdv0c4cdwbq8wd1doe5pmghk&raw=1"
            type="video/mp4"
          />
        </video>
      </a-assets>

      <a-videosphere src="#vrVideo" stereo="top-bottom" rotation="0 -90 0"></a-videosphere>
      <a-entity camera look-controls position="0 1.6 0"></a-entity>
    </a-scene>

    <script>
      const vid = document.getElementById("vrVideo");

      // Log if the video doesn't play
      vid.addEventListener("error", () => {
        console.error("VIDEO ERROR", vid.error);
      });

      // Attempt to play on interaction
      document.body.addEventListener("click", () => {
        vid.play()
          .then(() => console.log("Video playback started"))
          .catch((err) => console.error("Video playback error:", err));
      });
    </script>
  </body>
</html>
